#:import NoTransition kivy.uix.screenmanager.NoTransition
<MainScreen>:
    order_on: 'ghjgjgj'
    source: 'img/Products/2465152.jpg' 
    transition: NoTransition()
    # Can be used to return to the previous page
    active_page: 'main' 

    mgr1: _main
    mgr2: _search
    mgr5: _product
    mgr6: _off
    mgr7: _order
    mgr8: _grouping
    mgr9: _account
    mgr10: _signup 
    mgr11: _splash
    mgr12: _det_order
    mgr13: _privacy


    Splash:
        id: _splash
	Main:
        id: _main
	Search:
        id: _search
    Product:
        id: _product
    Off:
        id: _off
    Order:
        id: _order
    Grouping:
        id: _grouping
    Account:
        id: _account
    Sign_up:
        id: _signup
    Det_order: 
        id: _det_order
    Privacy:
        id: _privacy
    Err_connection:
        id: _err_connection

<Err_connection@Screen>:
    # Set sc screen name
    name: "Err_connection"
    # Start the progress bar animation when the screen is active
    #on_enter: self.ids.progress.start()

    FloatLayout:
        orientation: 'vertical'
        Image:
            source:'img/err_int.png'
            #center: self.parent.center
            #size: 500, 500
            allow_stretch: True
            anim_delay: 0
            mipmap: True
            #anim_loop: 100

        MDFillRoundFlatIconButton:
            size_hint: None, None
            y: mm(10)
            center_x: root.width / 2
            font_name: 'font/IRANSansXFaNum-Medium.ttf'
            #halign: "center"
            text: get_display(arabic_reshaper.reshape('خروج'))
            icon: 'exit-to-app'
            md_bg_color: "red"
            on_press:
                app.root.stop()

<Splash@Screen>:
    # Set sc screen name
    name: "SplashScreen"
    # Start the progress bar animation when the screen is active
    on_enter: self.ids.progress.start()

    BoxLayout:#FloatLayout:
        orientation: 'vertical'
        Image:
            source:'img/start.png'
            #center: self.parent.center
            #size: 500, 500
            allow_stretch: True
            anim_delay: 0
            mipmap: True
            #anim_loop: 100

        #MDFillRoundFlatIconButton:
        #    size_hint: None, None
        #    y: mm(10)
        #    center_x: root.width / 2
        #    font_name: 'font/IRANSansXFaNum-Medium.ttf'
        #    #halign: "center"
        #    text: get_display(arabic_reshaper.reshape('خروج'))
        #    icon: 'exit-to-app'
        #    md_bg_color: "red"
        #    on_press:
        #        app.root.stop()

<PopupBox>:
    size_hint: .55, .15
    auto_dismiss: True
    title: ''
    title_align: 'center'
    separator_height: 0
    #separator_color: 1, 0, 0, 0.5
    BoxLayout:
        orientation: "horizontal"
        size_hint: 1, None
        size: dp(50), dp(50)
        pos_hint: {'center_x': .5, 'center_y': .5}
        Label:
            text:''
        MDSpinner:
            id: _spinner
            color: [1, 0, 0, 0]
            determinate: True
            active: True
            size_hint: None, None
            size: dp(48), dp(48)
            pos_hint: {'center_x': .5, 'center_y': .5}
        Label:
            text:''

<Main@Screen>:
    name: "main"
    mgr3: _scroll_main
    mgr4: _bot_nav
    mgr5:_search_bar
    #mgr5: _spinner
    FloatLayout:
        orientation: 'vertical'
        ScrollMain:
            id: _scroll_main
            pos_hint: {'top': 0.96}
        SearchBar:
            id: _search_bar
            pos_hint: {'top': 1}
            #size_hint:(1, 1/13)
            size_hint_y: None
            height: (140 / 1080) * self.width 
        BottomNavigation:
            id: _bot_nav
            size_hint_y: None
            height: (140 / 1080) * self.width 
